# 表单自动填充助手 - 隐私权规范

## 单一用途说明

本扩展的唯一用途是：**自动识别网页表单并生成模拟数据填充，方便开发者和测试人员快速测试表单功能**。

本扩展不会：

- 收集、存储或传输用户的个人数据
- 跟踪用户的浏览行为
- 向第三方发送用户数据
- 修改或删除用户数据
- 执行任何与表单自动填充无关的功能

## 权限使用说明

### 1. 内容脚本注入（Content Scripts）

**使用理由：**
本扩展通过内容脚本（Content Scripts）注入到所有网页，以便在任意网页上识别和填充表单元素。内容脚本配置为 `matches: ["<all_urls>"]`，这意味着内容脚本会在所有网页上运行。

**具体用途：**

- 检测页面上是否存在表单元素（input、textarea、select 等）
- 在检测到表单时显示"自动填充"按钮
- 当用户点击按钮时，读取表单字段的结构信息（label、name、id、placeholder 等）
- 将生成的模拟数据填充到表单字段中

**数据访问：**

- 本扩展仅读取表单字段的结构信息（如字段名称、类型、标签），不读取用户已输入的数据
- 仅在用户主动点击"自动填充"按钮时，才会访问当前页面的 DOM 结构
- 不会访问或读取页面的其他内容
- 不会访问或读取用户的个人信息
- 通过白名单机制控制，只有在白名单中的网站才会显示按钮并执行功能

**白名单机制：**

- 默认允许的域名：`localhost` 和 `127.0.0.1`
- 用户可以在扩展设置中添加其他域名到白名单
- 只有在白名单中的网站才会显示"自动填充"按钮
- 用户可以在扩展设置中全局启用/禁用插件

### 2. storage 权限

**使用理由：**
本扩展需要存储用户的配置信息，以便：

1. 保存用户配置的 API 密钥（科大讯飞 APIPassword），避免每次使用都需要重新输入
2. 保存用户拖拽按钮后的位置坐标，提供更好的用户体验
3. 保存插件的启用/禁用状态
4. 保存用户配置的白名单域名列表
5. 保存用户自定义的系统提示词和用户提示词

**具体用途：**

- 存储科大讯飞 API 的 APIPassword（仅存储在浏览器本地）
- 存储模型版本（固定为 `lite`）
- 存储用户拖拽按钮后的位置坐标（top、left、right）
- 存储插件全局启用状态（`pluginEnabled`）
- 存储白名单域名列表（`allowedDomains`）
- 存储自定义系统提示词（`customSystemPrompt`）
- 存储自定义用户提示词（`customUserPrompt`）

**数据存储：**

- 所有数据仅存储在浏览器本地（Chrome Extension Storage API）
- 数据不会上传到任何服务器
- 数据不会与第三方共享
- 即使用户清除浏览器数据，这些配置也会被清除

### 3. tabs 权限

**使用理由：**
本扩展需要在弹出窗口（popup）中获取当前活动标签页的信息，以便：

1. 显示当前网站的域名
2. 检查当前网站是否在白名单中
3. 允许用户将当前网站添加到白名单或从白名单移除

**具体用途：**

- 在扩展的弹出窗口中，使用 `chrome.tabs.query({ active: true, currentWindow: true })` 获取当前活动标签页的 URL
- 从 URL 中提取域名信息
- 显示当前网站是否在白名单中
- 提供快速添加/移除当前网站到白名单的功能

**数据访问：**

- 仅访问当前活动标签页的 URL 信息
- 不访问标签页的内容
- 不访问其他标签页的信息
- 不访问浏览历史

### 4. 主机权限（host_permissions）

**当前配置：**
本扩展的 manifest 中配置了以下主机权限：

- `http://localhost/*`
- `http://127.0.0.1/*`
- `https://localhost/*`
- `https://127.0.0.1/*`

**说明：**
这些主机权限主要用于支持本地开发环境。由于本扩展通过内容脚本（Content Scripts）注入到所有网页，内容脚本可以直接访问页面 DOM，因此这些主机权限可能不是必需的。但为了确保在本地开发环境中正常工作，保留了这些权限。

### 5. 远程代码使用说明

**使用理由：**
本扩展需要调用科大讯飞 Spark API（https://spark-api-open.xf-yun.com/v1/chat/completions）来生成表单模拟数据。由于 AI 模型需要根据表单字段的标签和类型智能生成符合实际场景的模拟数据，因此必须使用远程 API 服务。

**具体用途：**

- 将表单字段信息（字段名称、类型、标签）发送到科大讯飞 API
- 接收 AI 生成的模拟数据（如姓名、手机号、邮箱、地址等）
- 将生成的数据填充到表单字段中

**数据传输：**

- 仅发送表单字段的元数据（字段名称、类型、标签），不发送用户已输入的数据
- 不发送用户的个人信息
- 不发送页面的其他内容
- API 密钥由用户自行配置，存储在浏览器本地，不会上传到任何服务器
- 数据传输使用 HTTPS 加密传输

**数据接收：**

- 仅接收 AI 生成的模拟数据（JSON 格式）
- 生成的数据仅用于填充表单，不会存储或传输到其他地方
- 生成的数据不会保存到本地存储

**API 调用流程：**

1. 用户在网页上点击"自动填充"按钮
2. 内容脚本收集表单字段的结构信息（label、name、id、type、placeholder）
3. 内容脚本通过 `chrome.runtime.sendMessage` 发送消息到后台脚本（background script）
4. 后台脚本使用用户配置的 API 密钥调用科大讯飞 API
5. 后台脚本将 API 返回的数据发送回内容脚本
6. 内容脚本将数据填充到表单字段中

## 数据使用情况

### 数据收集

本扩展**不收集**任何用户数据，包括：

- 不收集用户的个人信息
- 不收集用户的浏览历史
- 不收集用户输入的表单数据
- 不收集用户的设备信息
- 不收集用户的位置信息
- 不收集用户的浏览行为

### 数据传输

本扩展仅在以下情况下传输数据：

1. **向科大讯飞 API 发送请求**：

   - 传输内容：表单字段的元数据（字段名称、类型、标签）
   - 传输目的：生成模拟数据
   - 传输方式：HTTPS 加密传输
   - 数据不包含用户个人信息
   - 仅在用户主动点击"自动填充"按钮时才会发送请求

2. **接收科大讯飞 API 响应**：
   - 接收内容：AI 生成的模拟数据（JSON 格式）
   - 数据用途：仅用于填充表单
   - 数据不存储、不上传、不与第三方共享
   - 数据仅在内存中临时使用，填充完成后即被丢弃

### 数据存储

本扩展仅在浏览器本地存储以下数据：

1. **API 配置**：

   - `sparkApiPassword`：用户配置的科大讯飞 API 密钥（APIPassword）
   - `sparkModel`：模型版本（固定为 `lite`）

2. **用户偏好**：

   - `buttonPosition`：按钮位置坐标（top、left、right）

3. **插件设置**：

   - `pluginEnabled`：插件全局启用状态（布尔值）
   - `allowedDomains`：白名单域名列表（字符串数组）

4. **自定义提示词**：
   - `customSystemPrompt`：自定义系统提示词（字符串，可选）
   - `customUserPrompt`：自定义用户提示词（字符串，可选）

所有数据仅存储在浏览器本地（Chrome Extension Storage API），不会上传到任何服务器。

### 数据共享

本扩展**不与任何第三方共享**用户数据。

### 数据安全

- 所有 API 密钥仅存储在浏览器本地
- 数据传输使用 HTTPS 加密
- 不收集、不存储、不上传用户的个人信息
- 用户可随时清除浏览器数据来删除所有配置
- 通过白名单机制控制功能的使用范围

## 用户控制

用户完全控制本扩展的行为：

1. **配置控制**：用户可以选择是否配置 API 密钥
2. **使用控制**：用户需要主动点击"自动填充"按钮才会执行填充操作
3. **白名单控制**：用户可以选择哪些网站可以使用本扩展
4. **全局控制**：用户可以全局启用/禁用插件
5. **数据控制**：用户可以随时清除浏览器数据来删除所有配置
6. **权限控制**：用户可以在 Chrome 扩展管理页面随时禁用或卸载本扩展

## 开发者计划政策合规性

本扩展完全符合 Chrome Web Store 开发者计划政策：

- ✅ 单一用途：仅用于表单自动填充
- ✅ 最小权限原则：仅请求必要的权限
- ✅ 数据最小化：不收集不必要的用户数据
- ✅ 用户透明：明确说明所有权限和数据使用情况
- ✅ 用户控制：用户完全控制扩展的使用
- ✅ 白名单机制：通过白名单控制功能的使用范围

## 联系方式

如有任何关于隐私权的问题，请联系开发者。

---

**最后更新日期：** 2025 年 1 月 2 日
